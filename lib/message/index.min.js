"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Message=Message,exports.default=void 0;var _xeUtils=_interopRequireDefault(require("xe-utils")),_message=_interopRequireDefault(require("./src/message")),_msgQueue=_interopRequireDefault(require("./src/msgQueue"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var AlertController=null;function Message(u){return new Promise(function(t,s){if(u&&u.id&&_msgQueue.default.some(function(e){return e.id===u.id}))t("exist");else{var r=new AlertController({el:document.createElement("div"),propsData:u});r._handleCustom=function(e){r.$destroy(),"confirm"===e||"message"===u.type?t(e):s(e)},setTimeout(function(){return r.open()})}})}["alert","confirm","message"].forEach(function(u,e){var n=2===e?{mask:!1,lockView:!1,lockScroll:!1}:{};n.type=u,1===e&&(n.status="question"),Message[u]=function(e,t,s){var r;return _xeUtils.default.isObject(e)?r=e:t&&(r={title:t}),Message(Object.assign({message:_xeUtils.default.toString(e),type:u},n,r,s))}}),Message.install=function(e){AlertController=e.extend(_message.default),e.prototype.$XMsg=Message};var _default=Message;exports.default=_default;